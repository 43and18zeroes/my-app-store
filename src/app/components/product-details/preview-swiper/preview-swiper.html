<div
  class="swiper"
  #swiperContainer
  [class.swiper--mobile-padding]="isMobileDevice"
>
  <div class="swiper-wrapper">
    @for (image of images; track image; let i = $index) {
    <a
      class="swiper-slide no__highlight"
      [attr.aria-label]="image || 'Preview'"
      (click)="onThumbClick($event, i)"
    >
      <img
        class="logo__shadow"
        [src]="imgSrc(image)"
        [alt]="image || 'Preview'"
      />
    </a>
    }
  </div>

  @if (!isMobileDevice) {
  <div class="swiper-button-prev" (click)="prevN(3)"></div>
  <div class="swiper-button-next" (click)="nextN(3)"></div>
  }
</div>

<ng-template #lightboxTpl>
  <div
    class="lightbox"
    role="dialog"
    aria-modal="true"
    [attr.aria-label]="'Image ' + (lightboxIndex + 1) + ' of ' + images.length"
    tabindex="0"
    (keydown)="onLightboxKeydown($event)"

    (pointerdown)="lbPointerDown($event)"
    (pointermove)="lbPointerMove($event)"
    (pointerup)="lbPointerUp($event)"
    (pointercancel)="lbPointerCancel($event)"
    (pointerleave)="lbPointerCancel($event)"

    (click)="onLightboxContainerClick($event)"
  >
    <button
      type="button"
      class="lightbox__btn lightbox__btn--close"
      aria-label="Close"
      (click)="closeLightbox($event)"
    >
      ×
    </button>

    @if (images.length > 1) {
    <button type="button" class="lightbox__btn lightbox__btn--prev"
            aria-label="Previous image" (click)="prevLightbox($event)">‹</button>
    }

    <img class="lightbox__img"
         [src]="imgSrc(images[lightboxIndex])"
         [alt]="images[lightboxIndex] || 'Preview'"
         (click)="$event.stopPropagation()" />

    @if (images.length > 1) {
    <button type="button" class="lightbox__btn lightbox__btn--next"
            aria-label="Next image" (click)="nextLightbox($event)">›</button>
    }
  </div>
</ng-template>
